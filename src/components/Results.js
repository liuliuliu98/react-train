import React from 'react';
import axios from 'axios';
import { HashRouter as Router, Route, Link } from 'react-router-dom';

class Results extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      repos1: [],
      repos2: [],
      player1: '',
      player2: '',
      Score1: '',
      Score2: '',
      f: '',
      s: '',
    };
  }


  async componentDidMount() {
    const res1 = await axios.get(`https://api.github.com/users/${this.props.location.state[0]}`);
    const res2 = await axios.get(`https://api.github.com/users/${this.props.location.state[1]}`);
    console.log('res1', res1.data);
    console.log('res2', res2.data, this.props);
    this.setState({
      repos1: res1.data,
      player1: this.props.location.state[0],
      Score1: res1.data.public_repos,
      repos2: res2.data,
      player2: this.props.location.state[1],
      Score1: res1.data.public_repos,

    });
    if (this.state.Score2 > this.state.Score1) {
      this.setState({
        f: 'Loser', s: 'Winer', Score2: '0', Score1: '0',
      });
    }
    if (this.state.Score2 < this.state.Score1) {
      this.setState({
        f: 'Winer', s: 'Loser', Score2: '0', Score1: '0',
      });
    }
  }


  render() {
    return (
      <div style={{ display: 'block', backgroundColor: '#e8e8e8', paddingBottom: '50px' }}>

        <div style={{
          width: '90%', backgroundColor: '', margin: '0 auto', display: 'flex', justifyContent: 'center',
        }}
        >
          <ul style={{
            display: 'flex', flexWrap: 'wrap', listStyle: 'none', justifyContent: 'space-around', width: '100%',
          }}
          >

            <div style={{
              background: 'rgba(0, 0, 0, 0.08)', margin: '10px 5px', boxSizing: 'border-box', width: '290px', padding: '20px',
            }}
            >
              <h4 style={{
                textAlign: 'center', fontSize: '35px', fontWeight: '300', margin: '20px',
              }}
              >{this.state.f}
              </h4>
              <img
                src={this.state.repos1.avatar_url}
                alt=""
                style={{
                  width: '150px', height: '150px', display: 'block', margin: '0 auto', borderRadius: '3px', marginBottom: '8px',
                }}
              />

              <h2 style={{ textAlign: 'center', margin: '30px 0' }}>
                <a href={`https://github.com/${this.state.player1}`} style={{ color: 'rgb(187, 46, 31)', fontWeight: 'bold', textDecoration: 'none' }}>{this.state.player1}</a>
              </h2>
              <ul style={{ paddingLeft: '20px' }}>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237613440" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2421" width="32" height="32"><path d="M720.595852 563.870368C664.821571 612.393501 591.757508 641.953747 512 641.953747s-152.821571-29.560246-208.595852-78.084403C162.29534 638.607536 65.805752 786.967492 65.805752 958.194248l892.388497 0C958.194248 786.967492 861.70466 638.607536 720.595852 563.870368zM512 586.179466c143.897318 0 260.46622-116.567879 260.46622-259.908518 0-143.897318-116.567879-260.46622-260.46622-260.46622S251.53378 182.373631 251.53378 326.270948C251.53378 469.611587 368.101659 586.179466 512 586.179466z" p-id="2422" fill="#d7157c" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos1.name}
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237706842" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="32" height="32"><path d="M512 463.181131c-26.850531 0-48.818869 21.968337-48.818869 48.818869s21.968337 48.818869 48.818869 48.818869c27.072589 0 48.818869-21.968337 48.818869-48.818869S539.072589 463.181131 512 463.181131zM512 68.191078c-245.204631 0-443.808922 198.60429-443.808922 443.808922 0 244.982574 198.60429 443.808922 443.808922 443.808922s443.808922-198.826348 443.808922-443.808922C955.808922 266.795369 757.203608 68.191078 512 68.191078zM609.193623 609.193623l-363.479385 169.091116 169.091116-363.479385 363.479385-169.091116L609.193623 609.193623z" p-id="4027" fill="#6d2ad1" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos1.location}
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237761585" className="icon" viewBox="0 0 1429 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4760" width="32" height="32"><path d="M1370.282667 853.333333c-37.176889-131.271111-157.639111-227.555556-300.8-227.555556-42.609778 0-82.716444 9.386667-119.722667 24.803556-17.038222-13.738667-34.929778-26.453333-53.390222-38.371556C948.024889 584.704 1006.819556 568.888889 1069.482667 568.888889c174.791111 0 320.910222 121.429333 359.480889 284.444444L1370.282667 853.333333zM1069.454222 568.888889c-94.264889 0-170.666667-76.401778-170.666667-170.666667 0-94.264889 76.401778-170.666667 170.666667-170.666667s170.666667 76.401778 170.666667 170.666667C1240.120889 492.487111 1163.719111 568.888889 1069.454222 568.888889zM1069.454222 284.444444c-62.833778 0-113.777778 50.944-113.777778 113.777778s50.944 113.777778 113.777778 113.777778c62.833778 0 113.777778-50.944 113.777778-113.777778S1132.316444 284.444444 1069.454222 284.444444zM557.454222 568.888889c-157.098667 0-284.444444-127.345778-284.444444-284.444444 0-157.070222 127.345778-284.444444 284.444444-284.444444s284.444444 127.345778 284.444444 284.444444C841.898667 441.543111 714.552889 568.888889 557.454222 568.888889zM557.454222 56.888889c-125.667556 0-227.555556 101.888-227.555556 227.555556 0 125.667556 101.888 227.555556 227.555556 227.555556 125.667556 0 227.555556-101.888 227.555556-227.555556C785.009778 158.748444 683.121778 56.888889 557.454222 56.888889zM1114.936889 1024l-58.595556 0c-51.797333-227.925333-255.260444-398.222222-498.887111-398.222222C313.856 625.777778 110.392889 796.074667 58.595556 1024L0 1024c52.707556-259.669333 282.254222-455.111111 557.482667-455.111111C832.682667 568.888889 1062.229333 764.359111 1114.936889 1024z" p-id="4761" fill="#04b2e0" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos1.followers}followers
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237833591" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5636" width="32" height="32"><path d="M766.0032 322.6624c0-155.2384-126.3104-281.6-281.6-281.6s-281.6 126.3104-281.6 281.6c0 109.6192 63.0784 204.5952 154.7264 251.0848-168.8576 54.1184-308.3264 207.4624-308.3264 363.3152 0 14.1312 11.4688 25.6 25.6 25.6s25.6-11.4688 25.6-25.6c0-164.864 193.792-332.8 384-332.8C639.6416 604.2624 766.0032 477.952 766.0032 322.6624zM484.4032 553.0624c-127.0272 0-230.4-103.3728-230.4-230.4 0-127.0272 103.3728-230.4 230.4-230.4s230.4 103.3728 230.4 230.4C714.8032 449.6896 611.4304 553.0624 484.4032 553.0624z" p-id="5637" fill="#239d1c" /><path d="M945.2032 757.8624l-127.5904 0L817.6128 630.272c0-14.1312-11.4688-25.6-25.6-25.6s-25.6 11.4688-25.6 25.6l0 127.5904-127.5904 0c-14.1312 0-25.6 11.4688-25.6 25.6s11.4688 25.6 25.6 25.6l127.5904 0 0 127.5904c0 14.1312 11.4688 25.6 25.6 25.6s25.6-11.4688 25.6-25.6l0-127.5904 127.5904 0c14.1312 0 25.6-11.4688 25.6-25.6S959.3344 757.8624 945.2032 757.8624z" p-id="5638" fill="#239d1c" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos1.following}following
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574238398959" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11773" width="32" height="32"><path d="M509.93682963 137.35253333L590.88592592 362.72355555c12.74311111 37.0157037 47.45291852 61.89511111 86.5317926 62.01647408l226.22056296 1.09226667L717.10340741 578.5069037c-28.27757037 23.18032592-40.17114075 60.80284445-30.34074074 95.99810371l65.05054815 232.41007407L560.54518518 775.35762963c-15.4130963-10.67994075-33.49617778-16.26263703-52.18607407-16.26263704-18.93262222 0-37.13706667 5.70405925-52.67152593 16.50536296L268.30317037 906.30826667l62.01647408-225.1282963c9.34494815-33.86026667-1.09226667-69.54097778-27.30666667-93.08539259L118.17718518 422.79822222h229.61872593c40.41386667 0 75.48776297-25.72894815 87.74542222-64.2010074l74.3954963-221.24468149m-0.97090371-120.63478518c-12.74311111 0-25.48622222 7.40314075-29.97665184 22.20942222l-101.21671111 300.98014815c-4.00497778 13.22856297-16.26263703 22.20942222-29.97665186 22.20942223H41.47579259c-28.76302222 0-42.35567408 35.55934815-20.87442962 54.73469628L262.47774815 633.36296297c8.8594963 7.88859259 12.50038518 20.26761482 9.34494815 31.67573333L188.32497778 968.32474075c-5.94678518 21.60260741 11.16539259 39.80705185 30.34074074 39.80705184 5.94678518 0 12.1362963-1.82044445 17.84035556-5.70405926l254.01268147-177.06856296c5.33997037-3.76225185 11.65084445-5.5826963 17.96171853-5.58269629 6.18951111 0 12.50038518 1.82044445 17.84035555 5.58269629L783.85303703 1002.91318518c5.70405925 3.88361482 11.77220741 5.70405925 17.7189926 5.70405927 19.17534815 0 36.28752592-18.32580741 30.34074074-39.92841482l-86.77451852-310.44645926c-3.39816297-12.01493333 0.72817778-24.87940741 10.31585185-32.768l249.88634075-204.25386667c22.81623703-18.56853333 9.70903703-55.46287408-19.6608-55.7056l-307.77647408-1.45635555c-13.47128889-0.12136297-25.36485925-8.61677037-29.61256296-21.35988148l-109.46939259-304.62103704c-4.85451852-14.32082963-17.3549037-21.35988148-29.8552889-21.35988148z" p-id="11774" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos1.public_repos}repositories
                  </a>
                </li>
              </ul>
            </div>
            <div style={{
              background: 'rgba(0, 0, 0, 0.08)', margin: '10px 5px', boxSizing: 'border-box', width: '290px', padding: '20px',
            }}
            >
              <h4 style={{
                textAlign: 'center', fontSize: '35px', fontWeight: 300, margin: '20px',
              }}
              >{this.state.s}
              </h4>
              <img
                src={this.state.repos2.avatar_url}
                alt=""
                style={{
                  width: '150px', height: '150px', display: 'block', margin: '0 auto', borderRadius: '3px', marginBottom: '8px',
                }}
              />

              <h2 style={{ textAlign: 'center', margin: '30px 0' }}>
                <a href={`https://github.com/${this.state.player2}`} style={{ color: 'rgb(187, 46, 31)', fontWeight: 'bold', textDecoration: 'none' }}>{this.state.player2}</a>
              </h2>
              <ul style={{ paddingLeft: '20px' }}>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237613440" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2421" width="32" height="32"><path d="M720.595852 563.870368C664.821571 612.393501 591.757508 641.953747 512 641.953747s-152.821571-29.560246-208.595852-78.084403C162.29534 638.607536 65.805752 786.967492 65.805752 958.194248l892.388497 0C958.194248 786.967492 861.70466 638.607536 720.595852 563.870368zM512 586.179466c143.897318 0 260.46622-116.567879 260.46622-259.908518 0-143.897318-116.567879-260.46622-260.46622-260.46622S251.53378 182.373631 251.53378 326.270948C251.53378 469.611587 368.101659 586.179466 512 586.179466z" p-id="2422" fill="#d7157c" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos2.name}
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237706842" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="32" height="32"><path d="M512 463.181131c-26.850531 0-48.818869 21.968337-48.818869 48.818869s21.968337 48.818869 48.818869 48.818869c27.072589 0 48.818869-21.968337 48.818869-48.818869S539.072589 463.181131 512 463.181131zM512 68.191078c-245.204631 0-443.808922 198.60429-443.808922 443.808922 0 244.982574 198.60429 443.808922 443.808922 443.808922s443.808922-198.826348 443.808922-443.808922C955.808922 266.795369 757.203608 68.191078 512 68.191078zM609.193623 609.193623l-363.479385 169.091116 169.091116-363.479385 363.479385-169.091116L609.193623 609.193623z" p-id="4027" fill="#6d2ad1" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos2.location}
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237761585" className="icon" viewBox="0 0 1429 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4760" width="32" height="32"><path d="M1370.282667 853.333333c-37.176889-131.271111-157.639111-227.555556-300.8-227.555556-42.609778 0-82.716444 9.386667-119.722667 24.803556-17.038222-13.738667-34.929778-26.453333-53.390222-38.371556C948.024889 584.704 1006.819556 568.888889 1069.482667 568.888889c174.791111 0 320.910222 121.429333 359.480889 284.444444L1370.282667 853.333333zM1069.454222 568.888889c-94.264889 0-170.666667-76.401778-170.666667-170.666667 0-94.264889 76.401778-170.666667 170.666667-170.666667s170.666667 76.401778 170.666667 170.666667C1240.120889 492.487111 1163.719111 568.888889 1069.454222 568.888889zM1069.454222 284.444444c-62.833778 0-113.777778 50.944-113.777778 113.777778s50.944 113.777778 113.777778 113.777778c62.833778 0 113.777778-50.944 113.777778-113.777778S1132.316444 284.444444 1069.454222 284.444444zM557.454222 568.888889c-157.098667 0-284.444444-127.345778-284.444444-284.444444 0-157.070222 127.345778-284.444444 284.444444-284.444444s284.444444 127.345778 284.444444 284.444444C841.898667 441.543111 714.552889 568.888889 557.454222 568.888889zM557.454222 56.888889c-125.667556 0-227.555556 101.888-227.555556 227.555556 0 125.667556 101.888 227.555556 227.555556 227.555556 125.667556 0 227.555556-101.888 227.555556-227.555556C785.009778 158.748444 683.121778 56.888889 557.454222 56.888889zM1114.936889 1024l-58.595556 0c-51.797333-227.925333-255.260444-398.222222-498.887111-398.222222C313.856 625.777778 110.392889 796.074667 58.595556 1024L0 1024c52.707556-259.669333 282.254222-455.111111 557.482667-455.111111C832.682667 568.888889 1062.229333 764.359111 1114.936889 1024z" p-id="4761" fill="#04b2e0" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos2.followers}followers
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574237833591" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5636" width="32" height="32"><path d="M766.0032 322.6624c0-155.2384-126.3104-281.6-281.6-281.6s-281.6 126.3104-281.6 281.6c0 109.6192 63.0784 204.5952 154.7264 251.0848-168.8576 54.1184-308.3264 207.4624-308.3264 363.3152 0 14.1312 11.4688 25.6 25.6 25.6s25.6-11.4688 25.6-25.6c0-164.864 193.792-332.8 384-332.8C639.6416 604.2624 766.0032 477.952 766.0032 322.6624zM484.4032 553.0624c-127.0272 0-230.4-103.3728-230.4-230.4 0-127.0272 103.3728-230.4 230.4-230.4s230.4 103.3728 230.4 230.4C714.8032 449.6896 611.4304 553.0624 484.4032 553.0624z" p-id="5637" fill="#239d1c" /><path d="M945.2032 757.8624l-127.5904 0L817.6128 630.272c0-14.1312-11.4688-25.6-25.6-25.6s-25.6 11.4688-25.6 25.6l0 127.5904-127.5904 0c-14.1312 0-25.6 11.4688-25.6 25.6s11.4688 25.6 25.6 25.6l127.5904 0 0 127.5904c0 14.1312 11.4688 25.6 25.6 25.6s25.6-11.4688 25.6-25.6l0-127.5904 127.5904 0c14.1312 0 25.6-11.4688 25.6-25.6S959.3344 757.8624 945.2032 757.8624z" p-id="5638" fill="#239d1c" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos2.following}following
                  </a>
                </li>
                <li style={{ listStyle: 'none', display: 'flex', marginBottom: '10px' }}>
                  <svg t="1574238398959" className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11773" width="32" height="32"><path d="M509.93682963 137.35253333L590.88592592 362.72355555c12.74311111 37.0157037 47.45291852 61.89511111 86.5317926 62.01647408l226.22056296 1.09226667L717.10340741 578.5069037c-28.27757037 23.18032592-40.17114075 60.80284445-30.34074074 95.99810371l65.05054815 232.41007407L560.54518518 775.35762963c-15.4130963-10.67994075-33.49617778-16.26263703-52.18607407-16.26263704-18.93262222 0-37.13706667 5.70405925-52.67152593 16.50536296L268.30317037 906.30826667l62.01647408-225.1282963c9.34494815-33.86026667-1.09226667-69.54097778-27.30666667-93.08539259L118.17718518 422.79822222h229.61872593c40.41386667 0 75.48776297-25.72894815 87.74542222-64.2010074l74.3954963-221.24468149m-0.97090371-120.63478518c-12.74311111 0-25.48622222 7.40314075-29.97665184 22.20942222l-101.21671111 300.98014815c-4.00497778 13.22856297-16.26263703 22.20942222-29.97665186 22.20942223H41.47579259c-28.76302222 0-42.35567408 35.55934815-20.87442962 54.73469628L262.47774815 633.36296297c8.8594963 7.88859259 12.50038518 20.26761482 9.34494815 31.67573333L188.32497778 968.32474075c-5.94678518 21.60260741 11.16539259 39.80705185 30.34074074 39.80705184 5.94678518 0 12.1362963-1.82044445 17.84035556-5.70405926l254.01268147-177.06856296c5.33997037-3.76225185 11.65084445-5.5826963 17.96171853-5.58269629 6.18951111 0 12.50038518 1.82044445 17.84035555 5.58269629L783.85303703 1002.91318518c5.70405925 3.88361482 11.77220741 5.70405925 17.7189926 5.70405927 19.17534815 0 36.28752592-18.32580741 30.34074074-39.92841482l-86.77451852-310.44645926c-3.39816297-12.01493333 0.72817778-24.87940741 10.31585185-32.768l249.88634075-204.25386667c22.81623703-18.56853333 9.70903703-55.46287408-19.6608-55.7056l-307.77647408-1.45635555c-13.47128889-0.12136297-25.36485925-8.61677037-29.61256296-21.35988148l-109.46939259-304.62103704c-4.85451852-14.32082963-17.3549037-21.35988148-29.8552889-21.35988148z" p-id="11774" /></svg>
                  <a
                    style={{
                      display: 'block', paddingTop: '5px', marginLeft: '10px', textDecoration: 'none', color: '#000000', fontWeight: 'bold',
                    }}
                    href=""
                  >{this.state.repos2.public_repos}repositories
                  </a>
                </li>
              </ul>
            </div>

          </ul>

        </div>
        <Link
          to="/battle"
          style={{
            display: 'flex', flex: 1, fontSize: '16px', border: 'none', cursor: 'pointer', letterSpacing: '.25em', background: 'black', color: '#c7c7c7', margin: '40px auto', padding: '10px', textTransform: 'uppercase', letterSpacing: '0.25em', borderRadius: '3px', border: 'none', fontSize: '16px', justifyContent: 'center', alignitems: 'center', cursor: 'pointer', textDecoration: 'none', maxWidth: '250px',
          }}
        >Battle
        </Link>

      </div>
    );
  }
}

export default Results;
